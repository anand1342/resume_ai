<!DOCTYPE html>
<html>
<head>
    <title>Review Resume</title>
</head>
<body>

<h2>Detected Gaps</h2>

{% if gaps and gaps|length > 0 %}
<form action="/generate" method="post">
    <input type="hidden" name="file_id" value="{{ file_id }}">
    <input type="hidden" name="target_role" value="Software Engineer">

    {% for gap in gaps %}
        <p><b>Gap:</b> {{ gap.from }} â†’ {{ gap.to }} ({{ gap.duration }} years)</p>

        Fill gap?
        <select name="fill_gap_{{ loop.index }}">
            <option value="no">No</option>
            <option value="yes">Yes</option>
        </select><br>

        Company: <input name="company_{{ loop.index }}"><br>
        Role: <input name="role_{{ loop.index }}"><br>
        Location: <input name="location_{{ loop.index }}"><br>
        Start: <input name="start_{{ loop.index }}"><br>
        End: <input name="end_{{ loop.index }}"><br><br>
    {% endfor %}

    <button type="submit">Generate Resume</button>
</form>
{% else %}
<p>No gaps detected.</p>
<form action="/generate" method="post">
    <input type="hidden" name="file_id" value="{{ file_id }}">
    <button type="submit">Generate Resume</button>
</form>
{% endif %}

</body>
</html>
